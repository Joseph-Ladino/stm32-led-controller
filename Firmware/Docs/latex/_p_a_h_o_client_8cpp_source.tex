\doxysection{PAHOClient.\+cpp}
\hypertarget{_p_a_h_o_client_8cpp_source}{}\label{_p_a_h_o_client_8cpp_source}\index{Core/JPort/src/PAHOClient.cpp@{Core/JPort/src/PAHOClient.cpp}}
\mbox{\hyperlink{_p_a_h_o_client_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00001}00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00002}00002\ \textcolor{comment}{\ *\ W5500Client.cpp}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00003}00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00004}00004\ \textcolor{comment}{\ *\ \ Created\ on:\ Mar\ 17,\ 2024}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00005}00005\ \textcolor{comment}{\ *\ \ \ \ \ \ Author:\ user}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00006}00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_p_a_h_o_client_8hpp}{PAHOClient.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00011}00011\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_j_e_t_h_e_r_n_e_t}{JETHERNET}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00013}00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_j_m_q_t_t}{JMQTT}}\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00015}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a5bbf16a26e74c93a9a8b372d7548cba9}{00015}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a5bbf16a26e74c93a9a8b372d7548cba9}{PAHOClient::publish}}(\mbox{\hyperlink{struct_j_m_q_t_t_1_1_message}{Message}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}})\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ =\ client.publish(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.topic.data(),\ (\textcolor{keywordtype}{void}*)\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.payload.data(),}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00017}00017\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.payload.length(),\ (MQTT::QoS)\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.qos);}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ ==\ MQTT::SUCCESS;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00020}00020\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00022}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a3811ba986b402d0066c0e868d6a1113e}{00022}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a3811ba986b402d0066c0e868d6a1113e}{PAHOClient::subscribe}}(string\_view\ topic,\ \mbox{\hyperlink{namespace_j_m_q_t_t_ae20074947d69a428122e13962b0b54e3}{QOS}}\ qos)\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00023}00023\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ =\ client.subscribe(topic.data(),\ (MQTT::QoS)\ qos,\ \{\ this,}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00024}00024\ \ \ \ \ \ \ \ \ \ \ \ \ \&PAHOClient::pahoMessageReceived\ \});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00026}00026\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ ==\ MQTT::SUCCESS;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00029}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a9a94024ef51ef3c1c26f5f6d23160c1f}{00029}}\ \textcolor{keywordtype}{bool}\ PAHOClient::connect(\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock}{NetSock}}\ \&sock,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config}{ClientConfig}}\ config)\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00030}00030\ \ \ \ \ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}\ =\ \&sock;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00031}00031\ \ \ \ \ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}\ =\ config;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{return}\ connect();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00034}00034\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00036}00036\ \textcolor{keywordtype}{bool}\ PAHOClient::connect()\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00037}00037\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{MQTTPacket\_connectData}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}\ =\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{MQTTPacket\_connectData\_initializer}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00039}00039\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.MQTTVersion\ =\ (\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{uint8\_t}})\ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_adaf4490b2a554690a8b155c3f0683dd5}{version}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.clientID.cstring\ =\ (\textcolor{keywordtype}{char}*)\ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_afe121029b64aeb950a7b4ca28eeb2d3a}{clientName}}.data();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00041}00041\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.username.cstring\ =\ (\textcolor{keywordtype}{char}*)\ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_a266098173864ed535b7d368fbf18112b}{username}}.data();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00042}00042\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.password.cstring\ =\ (\textcolor{keywordtype}{char}*)\ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_a750576b79628cbcd0297c4e3ebf5ac73}{password}}.data();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00044}00044\ \ \ \ \ \textcolor{comment}{//\ connect\ socket\ to\ broker}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00045}00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (!net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}-\/>\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock_a41db618756cf90001a219180d152ecde}{isConnected}}()}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ !net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}-\/>\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock_ad4fcf93b2ec7285a632c4b51777c0beb}{connectTCP}}(net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_a6da016f97b0800325683bfae4d5e1cb0}{brokerIP}},\ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_a73498b1a7ccea5e4e3e9136ba321403d}{conf}}.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_client_config_aa879edf93bc829164b9724b092c77669}{brokerPort}}))\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00050}00050\ \ \ \ \ \textcolor{comment}{//\ connect\ client\ (through\ socket)\ to\ broker}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{if}\ (!client.connect(data)\ ==\ MQTT::SUCCESS)}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00054}00054\ \ \ \ \ client.setDefaultMessageHandler(}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{this},\ \&\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a607bcae635e895968efb49dd8eae533a}{PAHOClient::pahoMessageReceived}}\ \});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{if}\ (onConnect)}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00058}00058\ \ \ \ \ \ \ \ \ onConnect(*\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00061}00061\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00063}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a2592dfc13815f6bb46f0dc10e6b67ee4}{00063}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a2592dfc13815f6bb46f0dc10e6b67ee4}{PAHOClient::disconnect}}()\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00064}00064\ \ \ \ \ client.disconnect();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00065}00065\ \ \ \ \ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}-\/>\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock_a5f4da6ea7d0538048a8e1e70f5d69ea0}{disconnect}}();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00066}00066\ \ \ \ \ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}-\/>\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock_abced4845fbe84804cd64597c39f2b1b5}{close}}();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00067}00067\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00069}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a106782e6d80da9c3269c004eec75ec07}{00069}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a106782e6d80da9c3269c004eec75ec07}{PAHOClient::reconnect}}()\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00070}00070\ \ \ \ \ \textcolor{keywordflow}{return}\ connect();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00071}00071\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00073}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_adfb668e97d68912349291000810d3e63}{00073}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a106782e6d80da9c3269c004eec75ec07}{PAHOClient::reconnect}}(\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock}{NetSock}}\ \&sock)\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00074}00074\ \ \ \ \ net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}\ =\ \&sock;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00076}00076\ \ \ \ \ \textcolor{keywordflow}{return}\ connect();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00077}00077\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00079}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_ab6a8114c17036596b81f37a292741d7e}{00079}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_ab6a8114c17036596b81f37a292741d7e}{PAHOClient::update}}(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{uint16\_t}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{timeoutMs}})\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00080}00080\ \ \ \ \ \mbox{\hyperlink{struct_countdown_timer}{CountdownTimer}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{t}}(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{timeoutMs}});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00081}00081\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ =\ client.yield(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{timeoutMs}});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00083}00083\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{rc}}\ !=\ MQTT::SUCCESS\ ||\ !net.\mbox{\hyperlink{struct_j_m_q_t_t_1_1_p_a_h_o_network_ae86aeca997e66b080f31cf0bde7a629c}{sock}}-\/>\mbox{\hyperlink{class_j_e_t_h_e_r_n_e_t_1_1_net_sock_a41db618756cf90001a219180d152ecde}{isConnected}}())\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00084}00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a2592dfc13815f6bb46f0dc10e6b67ee4}{disconnect}}();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00086}00086\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00088}00088\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00089}00089\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00091}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a512779577f19fd55308ec4d5bb23a56c}{00091}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a512779577f19fd55308ec4d5bb23a56c}{PAHOClient::isConnected}}()\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00092}00092\ \ \ \ \ \textcolor{keywordflow}{return}\ client.isConnected();}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00093}00093\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00095}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_abaeb8974cfc89361cafecc674b6aaf4e}{00095}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_abaeb8974cfc89361cafecc674b6aaf4e}{PAHOClient::PAHOClient}}()\ :}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00096}00096\ \ \ \ \ \ \ \ \ client(net)\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00097}00097\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00099}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a6f0ae3731325e9ab016bb07e1f977ccb}{00099}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a6f0ae3731325e9ab016bb07e1f977ccb}{PAHOClient::\string~PAHOClient}}()\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00100}00100\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00102}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_aafe1ca238b53d18a689f22a309017fdf}{00102}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_aafe1ca238b53d18a689f22a309017fdf}{PAHOClient::setMessageCallback}}(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client_afdd270cfe93363df3d9076452ace76fa}{PAHOClient::MessageCB}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{func}})\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00103}00103\ \ \ \ \ onMessage\ =\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{func}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00104}00104\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00106}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a9e623915c12da35dc7a9d0be2cbfe8b7}{00106}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a9e623915c12da35dc7a9d0be2cbfe8b7}{PAHOClient::setConnectCallback}}(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client_a5baa97eaa06bfc44647d2420a1c613b2}{PAHOClient::ConnectCB}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{func}})\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00107}00107\ \ \ \ \ onConnect\ =\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{func}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00108}00108\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00110}\mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a607bcae635e895968efb49dd8eae533a}{00110}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_p_a_h_o_client_a607bcae635e895968efb49dd8eae533a}{PAHOClient::pahoMessageReceived}}(MQTT::MessageData\ \&\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}})\ \{}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00112}00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (!onMessage)}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00115}00115\ \ \ \ \ \mbox{\hyperlink{struct_j_m_q_t_t_1_1_message}{JMQTT::Message}}\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}};}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00116}00116\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.topic\ =\ string(\mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.topicName.lenstring.data,}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.topicName.lenstring.len);}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00118}00118\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.payload\ =\ string((\textcolor{keywordtype}{char}*)\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.message.payload,\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.message.payloadlen);}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00119}00119\ \ \ \ \ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}}.qos\ =\ (\mbox{\hyperlink{namespace_j_m_q_t_t_ae20074947d69a428122e13962b0b54e3}{JMQTT::QOS}})\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{data}}.message.qos;}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00121}00121\ \ \ \ \ onMessage(*\textcolor{keyword}{this},\ \mbox{\hyperlink{class_j_m_q_t_t_1_1_client}{msg}});}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00122}00122\ \textcolor{comment}{//\ \ msg.qos\ =\ data}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00123}00123\ \}}
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{_p_a_h_o_client_8cpp_source_l00125}00125\ \}\ \textcolor{comment}{/*\ namespace\ JMQTT\ */}}

\end{DoxyCode}
